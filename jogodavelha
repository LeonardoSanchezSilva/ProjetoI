import random

def print_board(board):
    print()
    for row in board:
        print(" | ".join(row))
        print("-" * 9)
    print()

def check_winner(board, player):
    # Verifica linhas, colunas e diagonais
    for i in range(3):
        if all([cell == player for cell in board[i]]):  # linhas
            return True
        if all([board[j][i] == player for j in range(3)]):  # colunas
            return True
    if all([board[i][i] == player for i in range(3)]):  # diagonal principal
        return True
    if all([board[i][2 - i] == player for i in range(3)]):  # diagonal secund√°ria
        return True
    return False

def get_empty_cells(board):
    return [(i, j) for i in range(3) for j in range(3) if board[i][j] == " "]

def player_move(board):
    while True:
        try:
            move = input("Digite sua jogada (linha e coluna, ex: 1 2): ")
            row, col = map(int, move.split())
            if board[row][col] == " ":
                return row, col
            else:
                print("Essa posi√ß√£o j√° est√° ocupada!")
        except (ValueError, IndexError):
            print("Entrada inv√°lida. Digite duas posi√ß√µes entre 0 e 2 separadas por espa√ßo.")

def ai_move(board):
    # 1. Tenta ganhar
    for row, col in get_empty_cells(board):
        board[row][col] = "O"
        if check_winner(board, "O"):
            return row, col
        board[row][col] = " "

    # 2. Bloqueia jogador
    for row, col in get_empty_cells(board):
        board[row][col] = "X"
        if check_winner(board, "X"):
            board[row][col] = "O"
            return row, col
        board[row][col] = " "

    # 3. Caso contr√°rio, joga aleatoriamente
    return random.choice(get_empty_cells(board))

def play_game():
    board = [[" " for _ in range(3)] for _ in range(3)]
    print("Bem-vindo ao Jogo da Velha! Voc√™ √© X e a IA √© O.")
    print_board(board)

    for turn in range(9):
        if turn % 2 == 0:
            row, col = player_move(board)
            board[row][col] = "X"
        else:
            row, col = ai_move(board)
            board[row][col] = "O"
            print(f"IA jogou em ({row}, {col})")

        print_board(board)

        if check_winner(board, "X"):
            print("Voc√™ venceu! üéâ")
            return
        elif check_winner(board, "O"):
            print("A IA venceu! üò¢")
            return

    print("Empate! ü§ù")

if __name__ == "__main__":
    play_game()

    
